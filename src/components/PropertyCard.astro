---
interface Props {
  title: string;
  description: string;
  price: number;
  location: string;
  bedrooms: number;
  bathrooms: number;
  area: number;
  status: "available" | "sold" | "rented";
  image: string;
}

const { title, description, price, location, bedrooms, bathrooms, area, status, image } = Astro.props;

const statusColors = {
  available: "bg-green-500/20 text-green-400",
  sold: "bg-red-500/20 text-red-400",
  rented: "bg-blue-500/20 text-blue-400",
};

const formatPrice = (p: number) =>
  new Intl.NumberFormat("en-US", { style: "currency", currency: "USD", maximumFractionDigits: 0 }).format(p);
---

<div class="group bg-secondary/50 border border-white/5 hover:border-accent/30 transition-all duration-300 overflow-hidden">
  <div class="relative aspect-[4/3] overflow-hidden">
    <img
      src={image}
      alt={title}
      class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"
      loading="lazy"
    />
    <div class="absolute top-3 left-3">
      <span class={`px-3 py-1 text-xs font-semibold uppercase tracking-wider ${statusColors[status]}`}>
        {status}
      </span>
    </div>
    <div class="absolute bottom-3 right-3 bg-dark/80 backdrop-blur-sm px-3 py-1">
      <span class="text-accent font-bold text-lg">{formatPrice(price)}</span>
    </div>
  </div>

  <div class="p-5">
    <h3 class="text-light text-lg font-semibold mb-1" style="font-family: 'Playfair Display', serif;">
      {title}
    </h3>
    <p class="text-muted text-sm mb-4 flex items-center gap-1">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
      </svg>
      {location}
    </p>

    <div class="flex items-center gap-4 text-muted text-sm border-t border-white/5 pt-4">
      <div class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-4 0h4" />
        </svg>
        <span>{bedrooms} Beds</span>
      </div>
      <div class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
        </svg>
        <span>{bathrooms} Baths</span>
      </div>
      <div class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" />
        </svg>
        <span>{area} mÂ²</span>
      </div>
    </div>
  </div>
</div>
